import{d as _,x as l,y as c,I as b,J as w,K as W,A as y,z as f,L as N,o as B,e as $,M as p,B as x,N as R,C as A,T as E,D as j,_ as L}from"#entry";const T={class:"grid grid-rows-5 gap-2 w-full max-w-xs sm:max-w-sm mx-auto"},z=_({__name:"WordleBoard",props:{board:{},currentRow:{}},setup(e){return(a,o)=>(c(),l("div",T,[(c(!0),l(b,null,w(a.board,(u,d)=>(c(),l("div",{key:d,class:"grid grid-cols-5 gap-2"},[(c(!0),l(b,null,w(u.letters,(s,r)=>(c(),l("div",{key:r,class:W(["aspect-square flex items-center justify-center rounded select-none font-bold text-xl sm:text-2xl uppercase transition-colors duration-200 border border-gray-700",{"bg-tile text-white":s.state==="empty"||s.state==="tbd","bg-absent text-white":s.state==="absent","bg-present text-white":s.state==="present","bg-correct text-white":s.state==="correct"}])},y(s.letter),3))),128))]))),128))]))}}),K=Object.assign(z,{__name:"WordleBoard"}),O={class:"w-full max-w-xl mx-auto mt-4 sm:mt-6 select-none"},q={class:"flex flex-col gap-2"},M=["onClick"],V=_({__name:"WordleKeyboard",props:{keyState:{}},emits:["key"],setup(e,{emit:a}){const o=e,u=a,d=["QWERTYUIOP".split(""),"ASDFGHJKL".split(""),["ENTER",..."ZXCVBNM".split(""),"âŒ«"]];function s(r){u("key",r)}return(r,i)=>(c(),l("div",O,[f("div",q,[(c(),l(b,null,w(d,(t,h)=>f("div",{key:h,class:"flex gap-1 justify-center"},[(c(!0),l(b,null,w(t,n=>(c(),l("button",{key:n,class:W(["px-2 sm:px-3 py-2 sm:py-3 rounded font-semibold text-xs sm:text-sm uppercase flex-1 basis-0",[n.length>1?"flex-[1.5]":"",o.keyState[n]?.toString()==="correct"?"bg-correct text-white":o.keyState[n]?.toString()==="present"?"bg-present text-white":o.keyState[n]?.toString()==="absent"?"bg-absent text-white":"bg-tile text-gray-100"]]),onClick:g=>s(n)},y(n),11,M))),128))])),64))])]))}}),D=Object.assign(V,{__name:"WordleKeyboard"}),v=["about","above","abuse","actor","acute","admit","adopt","adult","after","again","agent","agree","ahead","alarm","album","alert","alike","alive","allow","alone","along","aloud","alter","among","angel","anger","angle","angry","apart","apple","apply","arena","argue","arise","armed","array","arrow","aside","asset","audio","audit","avoid","award","aware","badly","baker","bases","basic","basis","beach","beard","beast","began","begin","begun","being","below","bench","billy","birth","black","blame","blind","block","blood","board","boost","booth","bound","brain","brand","bread","break","breed","brief","bring","broad","broke","brown","build","built","buyer","cable","calif","carry","catch","cause","chain","chair","chart","chase","cheap","check","cheek","chest","chief","child","china","chose","civic","civil","claim","class","clean","clear","click","clock","close","coach","coast","could","count","court","cover","craft","crash","cream","crime","cross","crowd","crown","curve","cycle","daily","dance","dated","dealt","death","debut","delay","depth","doing","doubt","dozen","draft","drama","drawn","dream","dress","drill","drink","drive","drove","dying","eager","early","earth","eight","elite","empty","enemy","enjoy","enter","entry","equal","error","event","every","exact","exist","extra","faith","false","fault","favor","fewer","fiber","field","fifth","fifty","fight","final","first","fixed","flash","fleet","floor","fluid","focus","force","forth","forty","forum","found","frame","fraud","fresh","front","fruit","fully","funny","giant","given","glass","globe","going","grace","grade","grand","grant","grass","great","green","gross","group","grown","guard","guess","guest","guide","happy","harry","heart","heavy","hence","henry","horse","hotel","house","human","ideal","image","index","inner","input","issue","japan","jimmy","joint","jones","judge","known","label","large","laser","later","laugh","layer","learn","lease","least","leave","legal","level","lever","light","limit","links","lives","local","logic","loose","lower","lucky","lunch","lying","magic","major","maker","march","maria","match","maybe","mayor","meant","media","metal","might","minor","minus","mixed","model","money","month","moral","motor","mount","mouse","mouth","movie","music","needs","never","newly","night","noise","north","novel","nurse","occur","ocean","offer","often","order","other","ought","paint","panel","paper","party","peace","peter","phase","phone","photo","piece","pilot","pitch","place","plain","plane","plant","plate","point","pound","power","press","price","pride","prime","print","prior","prize","proof","proud","prove","queen","quick","quiet","quite","radio","raise","range","rapid","ratio","reach","react","ready","refer","right","rival","river","roger","roman","rough","round","route","royal","rural","scale","scene","scope","score","sense","serve","seven","shall","shape","share","sharp","sheet","shelf","shell","shift","shirt","shock","shoot","short","shown","sight","since","sixth","sixty","sized","skill","sleep","slide","small","smart","smile","smith","smoke","solid","solve","sorry","sound","south","space","spare","speak","speed","spend","spent","split","spoke","sport","staff","stage","stake","stand","start","state","steam","steel","stick","still","stock","stone","stood","store","storm","story","strip","stuck","study","stuff","style","sugar","suite","super","sweet","table","taken","taste","taxes","teach","teeth","terry","texas","thank","theft","their","theme","there","these","thick","thing","think","third","those","three","threw","throw","tight","times","tired","title","today","topic","total","touch","tough","tower","track","trade","train","treat","trend","trial","tried","tries","truck","truly","trust","truth","twice","under","undue","union","unity","until","upper","upset","urban","usage","usual","valid","value","video","virus","visit","vital","voice","waste","watch","water","wheel","where","which","while","white","whole","whose","woman","women","world","worry","worse","worst","worth","would","wound","write","wrong","wrote","yield","young","youth"],k=5,m=5;function S(){const e=Math.floor(Math.random()*v.length);return v[e].toUpperCase()}function U(e,a){const o=Array(m).fill("absent"),u=a.split(""),d=e.split(""),s={};for(let r=0;r<m;r++)if(d[r]===u[r])o[r]="correct";else{const i=u[r];s[i]=(s[i]||0)+1}for(let r=0;r<m;r++){if(o[r]==="correct")continue;const i=d[r];s[i]>0?(o[r]="present",s[i]--):o[r]="absent"}return o}function G(e,a){const o={absent:0,present:1,correct:2};return o[a]>o[e]?a:e}function I(){const e=N({board:Array.from({length:k},()=>({letters:Array.from({length:m},()=>({letter:"",state:"empty"}))})),currentRow:0,currentCol:0,answer:S(),keyboard:{},status:"playing",message:null}),a=t=>t.replace(/[^A-Za-z]/g,"");function o(t){if(e.status!=="playing"||e.currentCol>=m||(t=a(t).toUpperCase(),!t))return;const h=e.board[e.currentRow].letters[e.currentCol];h.letter=t,h.state="tbd",e.currentCol++}function u(){if(e.status!=="playing"||e.currentCol===0)return;e.currentCol--;const t=e.board[e.currentRow].letters[e.currentCol];t.letter="",t.state="empty"}function d(){if(e.status!=="playing")return;if(e.currentCol<m)return s("Not enough letters");const t=e.board[e.currentRow].letters.map(n=>n.letter).join("");if(!v.includes(t.toLowerCase()))return s("Not in word list");const h=U(t,e.answer);for(let n=0;n<m;n++){e.board[e.currentRow].letters[n].state=h[n];const g=e.board[e.currentRow].letters[n].letter,C=h[n];e.keyboard[g]=e.keyboard[g]?G(e.keyboard[g],C):C}if(t===e.answer)return e.status="won",s("Great! You guessed it!");if(e.currentRow===k-1)return e.status="lost",s(`The word was ${e.answer}`);e.currentRow++,e.currentCol=0}function s(t){e.message=t,setTimeout(()=>{e.message===t&&(e.message=null)},1600)}function r(t=!0){e.board=Array.from({length:k},()=>({letters:Array.from({length:m},()=>({letter:"",state:"empty"}))})),e.currentRow=0,e.currentCol=0,e.answer=t?S():e.answer,e.keyboard={},e.status="playing",e.message=null}function i(t){if(t.key==="Enter")return d();if(t.key==="Backspace")return u();if(/^[a-zA-Z]$/.test(t.key))return o(t.key)}return B(()=>window.addEventListener("keydown",i)),$(()=>window.removeEventListener("keydown",i)),{state:e,inputLetter:o,backspace:u,submit:d,reset:r}}const Y={class:"flex flex-col items-center px-4 pt-6 safe-bottom"},Z={class:"w-full max-w-xl flex items-center justify-between mb-4"},F={class:"w-full flex flex-col gap-4 items-center"},J={key:0,class:"fixed top-4 left-1/2 -translate-x-1/2 bg-tile text-white px-4 py-2 rounded shadow"},P={key:0,class:"text-sm text-gray-300"},H={key:0},Q={key:1},X=_({__name:"index",setup(e){const{state:a,inputLetter:o,backspace:u,submit:d,reset:s}=I();function r(i){if(i==="ENTER")return d();if(i==="âŒ«")return u();o(i)}return(i,t)=>(c(),l("div",Y,[f("header",Z,[t[1]||(t[1]=f("h1",{class:"text-xl sm:text-2xl font-extrabold tracking-wide"},"Wordle",-1)),f("button",{class:"text-sm bg-absent hover:bg-gray-600 px-3 py-1.5 rounded",onClick:t[0]||(t[0]=h=>p(s)())},"New")]),f("main",F,[x(K,{board:p(a).board,"current-row":p(a).currentRow},null,8,["board","current-row"]),x(E,{name:"fade"},{default:A(()=>[p(a).message?(c(),l("div",J,y(p(a).message),1)):R("",!0)]),_:1}),p(a).status!=="playing"?(c(),l("div",P,[p(a).status==="won"?(c(),l("span",H,"You won! ðŸŽ‰")):(c(),l("span",Q,[t[2]||(t[2]=j("The word was ",-1)),f("strong",null,y(p(a).answer),1),t[3]||(t[3]=j(".",-1))]))])):R("",!0),x(D,{"key-state":p(a).keyboard,onKey:r},null,8,["key-state"])])]))}}),te=L(X,[["__scopeId","data-v-8498dd58"]]);export{te as default};
