import{g as A,c as h,o as p,F as j,r as S,n as B,t as _,a as u,j as D,b as $,T as O,w as L,k as z,d as G,l as F,_ as V,m as Y,p as U,q as I,s as W,v as Z,x as H,y as J,z as Q,A as g}from"#entry";const X={class:"grid gap-2 w-full max-w-xs sm:max-w-sm mx-auto"},ee=A({__name:"WordleBoard",props:{board:{},currentRow:{}},setup(n){return(o,e)=>(p(),h("div",X,[(p(!0),h(j,null,S(o.board,(l,r)=>(p(),h("div",{key:r,class:"grid grid-cols-5 gap-2"},[(p(!0),h(j,null,S(l.letters,(a,t)=>(p(),h("div",{key:t,class:B(["aspect-square flex items-center justify-center rounded select-none font-bold text-xl sm:text-2xl uppercase transition-colors duration-200 border border-gray-700",{"bg-tile text-white":a.state==="empty"||a.state==="tbd","bg-absent text-white":a.state==="absent","bg-present text-white":a.state==="present","bg-correct text-white":a.state==="correct"}])},_(a.letter),3))),128))]))),128))]))}}),te=Object.assign(ee,{__name:"WordleBoard"}),re={class:"w-full max-w-xl mx-auto mt-5 sm:mt-6 select-none"},se={class:"flex flex-col gap-2"},ae=["onClick"],oe=A({__name:"WordleKeyboard",props:{keyState:{}},emits:["key"],setup(n,{emit:o}){const e=n,l=o,r=["QWERTYUIOP".split(""),"ASDFGHJKL".split(""),["ENTER",..."ZXCVBNM".split(""),"âŒ«"]];function a(t){l("key",t)}return(t,i)=>(p(),h("div",re,[u("div",se,[(p(),h(j,null,S(r,(d,b)=>u("div",{key:b,class:"flex gap-1.5 sm:gap-1 justify-center"},[(p(!0),h(j,null,S(d,c=>(p(),h("button",{key:c,class:B(["px-3 sm:px-3 py-3.5 sm:py-2.5 rounded-md font-semibold text-base sm:text-sm uppercase flex-1 basis-0 min-h-[48px] sm:min-h-[40px]",[c.length>1?"flex-[1.5]":"",e.keyState[c]?.toString()==="correct"?"bg-correct text-white":e.keyState[c]?.toString()==="present"?"bg-present text-white":e.keyState[c]?.toString()==="absent"?"bg-absent text-white":"bg-tile text-gray-100"]]),onClick:s=>a(c)},_(c),11,ae))),128))])),64))])]))}}),ne=Object.assign(oe,{__name:"WordleKeyboard"}),ie={class:"w-full max-w-sm bg-tile rounded-lg border border-gray-700 shadow-xl p-4 sm:p-6 text-gray-100"},le={class:"text-center"},ue={class:"text-sm text-gray-300 mb-4"},ce={class:"text-sm mb-6"},de={class:"font-extrabold uppercase"},pe={class:"flex gap-2 justify-center"},he=A({__name:"ResultModal",props:{show:{type:Boolean},status:{},answer:{}},emits:["close","again"],setup(n,{emit:o}){const e=o;function l(r){r.target===r.currentTarget&&e("close")}return(r,a)=>(p(),D(F,{to:"body"},[$(O,{name:"fade"},{default:L(()=>[r.show?(p(),h("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 px-4",onClick:l},[u("div",ie,[u("div",le,[u("h2",{class:B(["text-2xl font-bold mb-2",r.status==="won"?"text-correct":"text-absent"])},_(r.status==="won"?"You Win!":"Better Luck Next Time"),3),u("p",ue,_(r.status==="won"?"Nice job guessing the word.":"No worries, try another round."),1),u("div",ce,[a[2]||(a[2]=G(" The word was ",-1)),u("span",de,_(r.answer),1)]),u("div",pe,[u("button",{class:"px-4 py-2 rounded bg-correct text-white font-semibold",onClick:a[0]||(a[0]=t=>r.$emit("again"))},"Play Again"),u("button",{class:"px-4 py-2 rounded bg-absent text-white",onClick:a[1]||(a[1]=t=>r.$emit("close"))},"Close")])])])])):z("",!0)]),_:1})]))}}),me=Object.assign(V(he,[["__scopeId","data-v-8ac7bc41"]]),{__name:"ResultModal"}),we=["about","above","abuse","actor","acute","admit","adopt","adult","after","again","agent","agree","ahead","alarm","album","alert","alike","alive","allow","alone","along","aloud","alter","among","angel","anger","angle","angry","apart","apple","apply","arena","argue","arise","armed","array","arrow","aside","asset","audio","audit","avoid","award","aware","badly","baker","bases","basic","basis","beach","beard","beast","began","begin","begun","being","below","bench","billy","birth","black","blame","blind","block","blood","board","boost","booth","bound","brain","brand","bread","break","breed","brief","bring","broad","broke","brown","build","built","buyer","cable","calif","carry","catch","cause","chain","chair","chart","chase","cheap","check","cheek","chest","chief","child","china","chose","civic","civil","claim","class","clean","clear","click","clock","close","coach","coast","could","count","court","cover","craft","crash","cream","crime","cross","crowd","crown","curve","cycle","daily","dance","dated","dealt","death","debut","delay","depth","doing","doubt","dozen","draft","drama","drawn","dream","dress","drill","drink","drive","drove","dying","eager","early","earth","eight","elite","empty","enemy","enjoy","enter","entry","equal","error","event","every","exact","exist","extra","faith","false","fault","favor","fewer","fiber","field","fifth","fifty","fight","final","first","fixed","flash","fleet","floor","fluid","focus","force","forth","forty","forum","found","frame","fraud","fresh","front","fruit","fully","funny","giant","given","glass","globe","going","grace","grade","grand","grant","grass","great","green","gross","group","grown","guard","guess","guest","guide","happy","harry","heart","heavy","hence","henry","horse","hotel","house","human","ideal","image","index","inner","input","issue","japan","jimmy","joint","jones","judge","known","label","large","laser","later","laugh","layer","learn","lease","least","leave","legal","level","lever","light","limit","links","lives","local","logic","loose","lower","lucky","lunch","lying","magic","major","maker","march","maria","match","maybe","mayor","meant","media","metal","might","minor","minus","mixed","model","money","month","moral","motor","mount","mouse","mouth","movie","music","needs","never","newly","night","noise","north","novel","nurse","occur","ocean","offer","often","order","other","ought","paint","panel","paper","party","peace","peter","phase","phone","photo","piece","pilot","pitch","place","plain","plane","plant","plate","point","pound","power","press","price","pride","prime","print","prior","prize","proof","proud","prove","queen","quick","quiet","quite","radio","raise","range","rapid","ratio","reach","react","ready","refer","right","rival","river","roger","roman","rough","round","route","royal","rural","scale","scene","scope","score","sense","serve","seven","shall","shape","share","sharp","sheet","shelf","shell","shift","shirt","shock","shoot","short","shown","sight","since","sixth","sixty","sized","skill","sleep","slide","small","smart","smile","smith","smoke","solid","solve","sorry","sound","south","space","spare","speak","speed","spend","spent","split","spoke","sport","staff","stage","stake","stand","start","state","steam","steel","stick","still","stock","stone","stood","store","storm","story","strip","stuck","study","stuff","style","sugar","suite","super","sweet","table","taken","taste","taxes","teach","teeth","terry","texas","thank","theft","their","theme","there","these","thick","thing","think","third","those","three","threw","throw","tight","times","tired","title","today","topic","total","touch","tough","tower","track","trade","train","treat","trend","trial","tried","tries","truck","truly","trust","truth","twice","under","undue","union","unity","until","upper","upset","urban","usage","usual","valid","value","video","virus","visit","vital","voice","waste","watch","water","wheel","where","which","while","white","whole","whose","woman","women","world","worry","worse","worst","worth","would","wound","write","wrong","wrote","yield","young","youth","acorn","adapt","alien","amber","armor","ashes","atlas","awake","bacon","badge","basil","batch","beads","beams","belly","blink","bliss","blown","blues","bonus","brass","bride","brush","buddy","buggy","candy","cargo","carol","carve","cedar","chalk","charm","cheer","chill","choir","clash","clerk","climb","clown","comet","coral","couch","crane","creek","curry","daisy","demon","devil","diner","ditch","dough","doves","drain","dread","dusty","eagle","elder","elbow","elves","fable","fancy","feast","fence","fever","flame","flock","flute","focal","foggy","folks","frost","funky","gains","gears","ghost","glide","gloom","goose","grape","grove","gummy","haunt","hedge","honey","hound","icing","irony","ivory","jelly","jolly","karma","kayak","kneel","knife","koala","ladle","lager","lance","larva","laser","lemon","lever","lilac","linen","lions","liver","lofty","logic","lotus","lunar","lunge","lurid","lyric","macho","macro","madam","maize","mango","manor","maple","march","marry","mason","meadow","medal","melon","mercy","merit","micro","mimic","mince","mined","miner","mirth","moist","molar","money","moody","moose","mossy","motel","motto","mourn","mower","mucky","mummy","myrrh","nadir","naive","nanny","nasal","nasty","naval","needy","nerdy","niece","noble","noise","noisy","nomad","noose","north","novae","nudge","oasis","obese","occur","ocean","octet","offal","olive","omega","onion","opals","opera","orbit","order","organ","other","otter","oxide","ozone","paddy","pagan","paint","palms","panda","panic","pansy","paper","parka","party","paste","patch","patio","pause","peace","pearl","pecan","pedal","peony","perch","petal","phase","phone","piano","picky","piece","pinto","piper","pitch","pivot","pixel","plank","plant","plate","plead","plush","poise","polar","polka","poppy","porch","poser","pouch","pound","prank","press","prism","prose","prune","pseud","pulse","punch","puppy","purse","quack","quail","quake","qualm","quart","queen","query","quest","quick","quiet","quill","quilt","quirk","quite","quota","quote","rabbi","racer","radar","radio","rainy","raise","ranch","range","rapid","raspy","ratio","raven","reach","ready","realm","rebel","recur","reedy","refer","regal","rehab","reign","relax","relay","remit","renew","repay","reply","rerun","reset","retro","reuse","rhyme","rider","ridge","rifle","rigid","rinse","risky","rival","roast","robin","robot","rocky","rogue","roman","rouge","rough","round","route","rover","royal","rugby","ruins","ruler","rumor","rural","rusty","sable","salsa","sandy","satin","sauce","sauna","scald","scale","scalp","scare","scarf","scene","scent","scoop","scope","score","scorn","scout","scrap","screw","seize","semen","sense","serum","serve","setup","sewer","shack","shade","shaft","shake","shaky","shame","shark","sharp","shave","shear","sheep","sheer","shelf","shell","shift","shine","shiny","shirt","shock","shone","shoot","shore","short","shout","shown","shrub","shrug","sided","siege","sight","sigma","silky","silly","since","siren","sixth","sixty","skate","skier","skill","skirt","skull","slack","slain","slang","slash","slave","sleek","sleep","sleet","slept","slice","slide","sling","slope","sloth","slump","smack","small","smart","smash","smell","smile","smoke","snack","snail","snake","snare","sneak","sneer","snore","snort","snowy","soapy","sober","soggy","solar","solid","sonar","sooth","sorry","sound","south","space","spade","spare","spark","speak","spear","speed","spell","spend","spent","spice","spicy","spike","spine","spiny","spite","spoil","spoke","spoon","sport","spout","spray","spree","squad","squat","squid","stack","staff","stage","stain","stair","stake","stale","stalk","stall","stamp","stand","stare","start","state","stave","steam","steel","steep","steer","stern","stick","stiff","still","sting","stink","stint","stock","stole","stone","stony","stood","stool","store","storm","story","stout","stove","strap","straw","strip","stuck","study","stuff","stump","stung","stunt","style","sugar","suite","sulky","sunny","super","surge","swamp","swarm","swear","sweat","sweep","sweet","swell","swept","swift","swing","swirl","sword","sworn","synod","syrup","table","tacit","tacky","taint","taken","tally","talon","tango","tardy","taste","tasty","taunt","teach","tease","teddy","teeth","tempo","tenor","tense","tenth","tents","terry","texas","thank","theft","their","theme","there","these","thick","thief","thigh","thing","think","third","thorn","those","three","threw","throb","throw","thump","thumb","tiger","tight","tilde","timer","times","tired","titan","title","toast","today","token","tonic","tooth","topic","torch","torso","total","touch","tough","towel","tower","toxic","trace","track","tract","trade","trail","train","trait","trans","trash","tread","treat","trend","trial","tribe","trick","tried","tries","tripe","trite","troll","troop","trout","truck","truly","trump","trunk","trust","truth","tulip","tummy","tuned","tuner","tunic","turbo","turns","tutor","twang","tweak","tweed","twice","twine","twist","uncle","under","undue","unfit","union","unite","unity","unlit","upper","upset","urban","urged","urine","usage","usual","usher","vague","valet","valid","value","valve","vapid","vault","vegan","venom","venue","verse","vicar","video","vigil","villa","vinyl","viola","viper","viral","virus","visit","vista","vital","vivid","vocal","vodka","vogue","voice","vomit","voter","vouch","vowel","wacky","wafer","wager","wagon","waist","waive","waltz","waste","watch","water","weary","weave","wedge","weeds","weigh","weird","whale","wheat","wheel","where","which","whiff","while","whine","whiny","whirl","white","whole","whoop","whose","widen","wider","widow","width","wield","wight","willy","wince","winch","windy","wiped","wired","wiser","wispy","witch","wives","woman","women","woody","wooly","woozy","wordy","world","worry","worse","worst","worth","would","wound","woven","wrack","wrath","wreak","wreck","wrest","wring","wrist","write","wrong","wrote","xerox","yacht","yearn","yeast","yield","young","youth","yummy","zebra","zesty","zonal","zoned","zones","zowie"];let T=null;function ge(){if(typeof window>"u")return null;if(!T){const n=window.AudioContext||window.webkitAudioContext;if(!n)return null;T=new n}return T.state==="suspended"&&T.resume?.().catch(()=>{}),T}function x(n,o,e="sine",l=.05){const r=ge();if(!r)return;const a=r.createOscillator(),t=r.createGain();a.type=e,a.frequency.value=n,t.gain.value=l,a.connect(t).connect(r.destination);const i=r.currentTime;t.gain.setValueAtTime(0,i),t.gain.linearRampToValueAtTime(l,i+.005),t.gain.exponentialRampToValueAtTime(1e-4,i+o/1e3),a.start(i),a.stop(i+o/1e3+.01)}function K(){const n=typeof navigator<"u"&&typeof navigator.vibrate=="function",o=d=>{try{n&&navigator.vibrate(d)}catch{}};function e(){x(1400,35,"triangle",.03),o(8)}function l(){x(220,45,"square",.03),o(10)}function r(){x(160,120,"sawtooth",.05),setTimeout(()=>x(120,120,"sawtooth",.05),120),o([20,40,20])}function a(){[523.25,659.25,783.99,1046.5].forEach((b,c)=>setTimeout(()=>x(b,140,"sine",.06),c*120)),o([15,25,15,25,20])}function t(){[440,349.23,261.63].forEach((b,c)=>setTimeout(()=>x(b,180,"triangle",.06),c*170)),o([40,40,40])}function i(){x(900,120,"square",.05),o(20)}return{click:e,backspace:l,error:r,win:a,lose:t,dangerTick:i}}const N=6,k=5;function M(n){return n.trim().toLowerCase()}function ye(n){const o=W([...n]),e=W(new Set(n));function l(t){let i=0;for(const d of t.map(M))d.length!==5||/[^a-z]/.test(d)||e.value.has(d)||(e.value.add(d),o.value.push(d),i++);return i}function r(t){return e.value.has(M(t))}function a(){const t=Math.floor(Math.random()*o.value.length);return o.value[t].toUpperCase()}return{arr:o,set:e,addMany:l,has:r,randomUpper:a}}function fe(n,o){const e=Array(k).fill("absent"),l=o.split(""),r=n.split(""),a={};for(let t=0;t<k;t++)if(r[t]===l[t])e[t]="correct";else{const i=l[t];a[i]=(a[i]||0)+1}for(let t=0;t<k;t++){if(e[t]==="correct")continue;const i=r[t];a[i]>0?(e[t]="present",a[i]--):e[t]="absent"}return e}function be(n,o){const e={absent:0,present:1,correct:2};return e[o]>e[n]?o:n}function ve(){const n=K(),o=ye(we),e=Y({board:Array.from({length:N},()=>({letters:Array.from({length:k},()=>({letter:"",state:"empty"}))})),currentRow:0,currentCol:0,answer:o.randomUpper(),keyboard:{},status:"playing",message:null}),l=s=>s.replace(/[^A-Za-z]/g,"");function r(s){if(e.status!=="playing"||e.currentCol>=k||(s=l(s).toUpperCase(),!s))return;const y=e.board[e.currentRow].letters[e.currentCol];y.letter=s,y.state="tbd",e.currentCol++,n.click()}function a(){if(e.status!=="playing"||e.currentCol===0)return;e.currentCol--;const s=e.board[e.currentRow].letters[e.currentCol];s.letter="",s.state="empty",n.backspace()}function t(){if(e.status!=="playing")return;if(e.currentCol<k)return n.error(),i("Not enough letters");const s=e.board[e.currentRow].letters.map(m=>m.letter).join("");if(!o.has(s))return n.error(),i("Not in word list");const y=fe(s,e.answer);for(let m=0;m<k;m++){e.board[e.currentRow].letters[m].state=y[m];const q=e.board[e.currentRow].letters[m].letter,f=y[m];e.keyboard[q]=e.keyboard[q]?be(e.keyboard[q],f):f}if(s===e.answer)return e.status="won",n.win(),i("Great! You guessed it!");if(e.currentRow===N-1)return e.status="lost",n.lose(),i(`The word was ${e.answer}`);e.currentRow++,e.currentCol=0}function i(s){e.message=s,setTimeout(()=>{e.message===s&&(e.message=null)},1600)}function d(s=!0){e.board=Array.from({length:N},()=>({letters:Array.from({length:k},()=>({letter:"",state:"empty"}))})),e.currentRow=0,e.currentCol=0,e.answer=s?o.randomUpper():e.answer,e.keyboard={},e.status="playing",e.message=null}function b(s){if(s.key==="Enter")return t();if(s.key==="Backspace")return a();if(/^[a-zA-Z]$/.test(s.key))return r(s.key)}async function c(){try{const s=await fetch("/words5.txt");if(s.ok){const m=(await s.text()).split(/\r?\n/).map(f=>f.trim()).filter(Boolean);o.addMany(m)>0&&e.board.every(f=>f.letters.every(R=>R.state==="empty"))&&(e.answer=o.randomUpper())}}catch{}}return U(()=>{window.addEventListener("keydown",b),c()}),I(()=>window.removeEventListener("keydown",b)),{state:e,inputLetter:r,backspace:a,submit:t,reset:d}}const ke=globalThis.setInterval,xe={class:"flex flex-col items-center px-4 pt-6 safe-bottom"},_e={class:"w-full max-w-xl flex items-center justify-between mb-4"},qe={class:"flex items-center gap-3"},Ce={key:0,class:"ml-2 text-sm px-2 py-1 rounded bg-absent text-white"},Te={class:"flex items-center gap-3"},$e={class:"w-full flex flex-col gap-4 items-center"},Re={key:0,class:"fixed top-4 left-1/2 -translate-x-1/2 bg-tile text-white px-4 py-2 rounded shadow"},ze=A({__name:"game",setup(n){const o=Z(),e=H(),r=(o.query.mode==="pro"?"pro":"easy")==="pro",a=K(),{state:t,inputLetter:i,backspace:d,submit:b,reset:c}=ve(),s=W(120);let y=null;const m=J(()=>r&&t.status==="playing"&&s.value<=10&&s.value>0);function q(v){const w=Math.floor(v/60).toString().padStart(2,"0"),C=Math.floor(v%60).toString().padStart(2,"0");return`${w}:${C}`}function f(){y&&(clearInterval(y),y=null)}function R(){r&&(f(),s.value=120,y=ke(()=>{t.status==="playing"&&(s.value=Math.max(0,s.value-1),s.value>0&&s.value<=10&&a.dangerTick?.(),s.value===0&&t.status==="playing"&&(f(),t.status="lost",t.message="Time's up!",a.lose()))},1e3))}function P(v){if(v==="ENTER")return b();if(v==="âŒ«")return d();i(v)}Q(()=>t.status,v=>{v!=="playing"&&f()}),U(()=>{r&&R()}),I(()=>f());function E(){c(),r&&R()}return(v,w)=>(p(),h("div",xe,[u("header",_e,[u("div",qe,[u("button",{class:"text-sm bg-absent hover:bg-gray-600 px-2 py-1 rounded",onClick:w[0]||(w[0]=C=>g(e).push({path:"/",replace:!0}))},"Menu"),w[4]||(w[4]=u("h1",{class:"text-xl sm:text-2xl font-extrabold tracking-wide"},"Wordle",-1)),r?(p(),h("span",Ce,"PRO")):z("",!0)]),u("div",Te,[r?(p(),h("div",{key:0,class:B(["text-lg font-mono tabular-nums px-2 py-1 rounded border",g(m)?"bg-red-600 text-white border-red-500 animate-pulse":"bg-tile text-gray-100 border-gray-700"])},_(q(g(s))),3)):z("",!0),u("button",{class:"text-sm bg-correct hover:bg-green-600 px-3 py-1.5 rounded",onClick:w[1]||(w[1]=C=>E())},"New")])]),u("main",$e,[$(te,{board:g(t).board,"current-row":g(t).currentRow},null,8,["board","current-row"]),$(O,{name:"fade"},{default:L(()=>[g(t).message?(p(),h("div",Re,_(g(t).message),1)):z("",!0)]),_:1}),$(me,{show:g(t).status!=="playing",status:g(t).status,answer:g(t).answer,onAgain:w[2]||(w[2]=C=>E()),onClose:w[3]||(w[3]=C=>g(c)(!1))},null,8,["show","status","answer"]),$(ne,{"key-state":g(t).keyboard,onKey:P},null,8,["key-state"])])]))}}),Se=V(ze,[["__scopeId","data-v-9ee99213"]]);export{Se as default};
