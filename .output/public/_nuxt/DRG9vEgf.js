import{d as _,x as f,y as p,I as k,J as v,K as $,A as w,z as c,L as q,B as x,T as B,C as N,M as S,D as E,N as L,_ as W,O,o as z,e as V,P as m}from"#entry";const K={class:"grid grid-rows-5 gap-2 w-full max-w-xs sm:max-w-sm mx-auto"},M=_({__name:"WordleBoard",props:{board:{},currentRow:{}},setup(o){return(e,n)=>(p(),f("div",K,[(p(!0),f(k,null,v(e.board,(l,s)=>(p(),f("div",{key:s,class:"grid grid-cols-5 gap-2"},[(p(!0),f(k,null,v(l.letters,(r,t)=>(p(),f("div",{key:t,class:$(["aspect-square flex items-center justify-center rounded select-none font-bold text-xl sm:text-2xl uppercase transition-colors duration-200 border border-gray-700",{"bg-tile text-white":r.state==="empty"||r.state==="tbd","bg-absent text-white":r.state==="absent","bg-present text-white":r.state==="present","bg-correct text-white":r.state==="correct"}])},w(r.letter),3))),128))]))),128))]))}}),D=Object.assign(M,{__name:"WordleBoard"}),G={class:"w-full max-w-xl mx-auto mt-4 sm:mt-6 select-none"},I={class:"flex flex-col gap-2"},P=["onClick"],U=_({__name:"WordleKeyboard",props:{keyState:{}},emits:["key"],setup(o,{emit:e}){const n=o,l=e,s=["QWERTYUIOP".split(""),"ASDFGHJKL".split(""),["ENTER",..."ZXCVBNM".split(""),"âŒ«"]];function r(t){l("key",t)}return(t,i)=>(p(),f("div",G,[c("div",I,[(p(),f(k,null,v(s,(u,a)=>c("div",{key:a,class:"flex gap-1 justify-center"},[(p(!0),f(k,null,v(u,d=>(p(),f("button",{key:d,class:$(["px-2 sm:px-3 py-2 sm:py-3 rounded font-semibold text-xs sm:text-sm uppercase flex-1 basis-0",[d.length>1?"flex-[1.5]":"",n.keyState[d]?.toString()==="correct"?"bg-correct text-white":n.keyState[d]?.toString()==="present"?"bg-present text-white":n.keyState[d]?.toString()==="absent"?"bg-absent text-white":"bg-tile text-gray-100"]]),onClick:h=>r(d)},w(d),11,P))),128))])),64))])]))}}),Y=Object.assign(U,{__name:"WordleKeyboard"}),Z={class:"w-full max-w-sm bg-tile rounded-lg border border-gray-700 shadow-xl p-4 sm:p-6 text-gray-100"},F={class:"text-center"},J={class:"text-sm text-gray-300 mb-4"},H={class:"text-sm mb-6"},Q={class:"font-extrabold uppercase"},X={class:"flex gap-2 justify-center"},ee=_({__name:"ResultModal",props:{show:{type:Boolean},status:{},answer:{}},emits:["close","again"],setup(o,{emit:e}){const n=e;function l(s){s.target===s.currentTarget&&n("close")}return(s,r)=>(p(),q(L,{to:"body"},[x(B,{name:"fade"},{default:N(()=>[s.show?(p(),f("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 px-4",onClick:l},[c("div",Z,[c("div",F,[c("h2",{class:$(["text-2xl font-bold mb-2",s.status==="won"?"text-correct":"text-absent"])},w(s.status==="won"?"You Win!":"Better Luck Next Time"),3),c("p",J,w(s.status==="won"?"Nice job guessing the word.":"No worries, try another round."),1),c("div",H,[r[2]||(r[2]=E(" The word was ",-1)),c("span",Q,w(s.answer),1)]),c("div",X,[c("button",{class:"px-4 py-2 rounded bg-correct text-white font-semibold",onClick:r[0]||(r[0]=t=>s.$emit("again"))},"Play Again"),c("button",{class:"px-4 py-2 rounded bg-absent text-white",onClick:r[1]||(r[1]=t=>s.$emit("close"))},"Close")])])])])):S("",!0)]),_:1})]))}}),te=Object.assign(W(ee,[["__scopeId","data-v-8ac7bc41"]]),{__name:"ResultModal"}),T=["about","above","abuse","actor","acute","admit","adopt","adult","after","again","agent","agree","ahead","alarm","album","alert","alike","alive","allow","alone","along","aloud","alter","among","angel","anger","angle","angry","apart","apple","apply","arena","argue","arise","armed","array","arrow","aside","asset","audio","audit","avoid","award","aware","badly","baker","bases","basic","basis","beach","beard","beast","began","begin","begun","being","below","bench","billy","birth","black","blame","blind","block","blood","board","boost","booth","bound","brain","brand","bread","break","breed","brief","bring","broad","broke","brown","build","built","buyer","cable","calif","carry","catch","cause","chain","chair","chart","chase","cheap","check","cheek","chest","chief","child","china","chose","civic","civil","claim","class","clean","clear","click","clock","close","coach","coast","could","count","court","cover","craft","crash","cream","crime","cross","crowd","crown","curve","cycle","daily","dance","dated","dealt","death","debut","delay","depth","doing","doubt","dozen","draft","drama","drawn","dream","dress","drill","drink","drive","drove","dying","eager","early","earth","eight","elite","empty","enemy","enjoy","enter","entry","equal","error","event","every","exact","exist","extra","faith","false","fault","favor","fewer","fiber","field","fifth","fifty","fight","final","first","fixed","flash","fleet","floor","fluid","focus","force","forth","forty","forum","found","frame","fraud","fresh","front","fruit","fully","funny","giant","given","glass","globe","going","grace","grade","grand","grant","grass","great","green","gross","group","grown","guard","guess","guest","guide","happy","harry","heart","heavy","hence","henry","horse","hotel","house","human","ideal","image","index","inner","input","issue","japan","jimmy","joint","jones","judge","known","label","large","laser","later","laugh","layer","learn","lease","least","leave","legal","level","lever","light","limit","links","lives","local","logic","loose","lower","lucky","lunch","lying","magic","major","maker","march","maria","match","maybe","mayor","meant","media","metal","might","minor","minus","mixed","model","money","month","moral","motor","mount","mouse","mouth","movie","music","needs","never","newly","night","noise","north","novel","nurse","occur","ocean","offer","often","order","other","ought","paint","panel","paper","party","peace","peter","phase","phone","photo","piece","pilot","pitch","place","plain","plane","plant","plate","point","pound","power","press","price","pride","prime","print","prior","prize","proof","proud","prove","queen","quick","quiet","quite","radio","raise","range","rapid","ratio","reach","react","ready","refer","right","rival","river","roger","roman","rough","round","route","royal","rural","scale","scene","scope","score","sense","serve","seven","shall","shape","share","sharp","sheet","shelf","shell","shift","shirt","shock","shoot","short","shown","sight","since","sixth","sixty","sized","skill","sleep","slide","small","smart","smile","smith","smoke","solid","solve","sorry","sound","south","space","spare","speak","speed","spend","spent","split","spoke","sport","staff","stage","stake","stand","start","state","steam","steel","stick","still","stock","stone","stood","store","storm","story","strip","stuck","study","stuff","style","sugar","suite","super","sweet","table","taken","taste","taxes","teach","teeth","terry","texas","thank","theft","their","theme","there","these","thick","thing","think","third","those","three","threw","throw","tight","times","tired","title","today","topic","total","touch","tough","tower","track","trade","train","treat","trend","trial","tried","tries","truck","truly","trust","truth","twice","under","undue","union","unity","until","upper","upset","urban","usage","usual","valid","value","video","virus","visit","vital","voice","waste","watch","water","wheel","where","which","while","white","whole","whose","woman","women","world","worry","worse","worst","worth","would","wound","write","wrong","wrote","yield","young","youth"];let y=null;function re(){if(typeof window>"u")return null;if(!y){const o=window.AudioContext||window.webkitAudioContext;if(!o)return null;y=new o}return y.state==="suspended"&&y.resume?.().catch(()=>{}),y}function b(o,e,n="sine",l=.05){const s=re();if(!s)return;const r=s.createOscillator(),t=s.createGain();r.type=n,r.frequency.value=o,t.gain.value=l,r.connect(t).connect(s.destination);const i=s.currentTime;t.gain.setValueAtTime(0,i),t.gain.linearRampToValueAtTime(l,i+.005),t.gain.exponentialRampToValueAtTime(1e-4,i+e/1e3),r.start(i),r.stop(i+e/1e3+.01)}function se(){function o(){b(1400,35,"triangle",.03)}function e(){b(220,45,"square",.03)}function n(){b(160,120,"sawtooth",.05),setTimeout(()=>b(120,120,"sawtooth",.05),120)}function l(){[523.25,659.25,783.99,1046.5].forEach((t,i)=>setTimeout(()=>b(t,140,"sine",.06),i*120))}function s(){[440,349.23,261.63].forEach((t,i)=>setTimeout(()=>b(t,180,"triangle",.06),i*170))}return{click:o,backspace:e,error:n,win:l,lose:s}}const R=5,g=5;function A(){const o=Math.floor(Math.random()*T.length);return T[o].toUpperCase()}function ae(o,e){const n=Array(g).fill("absent"),l=e.split(""),s=o.split(""),r={};for(let t=0;t<g;t++)if(s[t]===l[t])n[t]="correct";else{const i=l[t];r[i]=(r[i]||0)+1}for(let t=0;t<g;t++){if(n[t]==="correct")continue;const i=s[t];r[i]>0?(n[t]="present",r[i]--):n[t]="absent"}return n}function oe(o,e){const n={absent:0,present:1,correct:2};return n[e]>n[o]?e:o}function ne(){const o=se(),e=O({board:Array.from({length:R},()=>({letters:Array.from({length:g},()=>({letter:"",state:"empty"}))})),currentRow:0,currentCol:0,answer:A(),keyboard:{},status:"playing",message:null}),n=a=>a.replace(/[^A-Za-z]/g,"");function l(a){if(e.status!=="playing"||e.currentCol>=g||(a=n(a).toUpperCase(),!a))return;const d=e.board[e.currentRow].letters[e.currentCol];d.letter=a,d.state="tbd",e.currentCol++,o.click()}function s(){if(e.status!=="playing"||e.currentCol===0)return;e.currentCol--;const a=e.board[e.currentRow].letters[e.currentCol];a.letter="",a.state="empty",o.backspace()}function r(){if(e.status!=="playing")return;if(e.currentCol<g)return o.error(),t("Not enough letters");const a=e.board[e.currentRow].letters.map(h=>h.letter).join("");if(!T.includes(a.toLowerCase()))return o.error(),t("Not in word list");const d=ae(a,e.answer);for(let h=0;h<g;h++){e.board[e.currentRow].letters[h].state=d[h];const C=e.board[e.currentRow].letters[h].letter,j=d[h];e.keyboard[C]=e.keyboard[C]?oe(e.keyboard[C],j):j}if(a===e.answer)return e.status="won",o.win(),t("Great! You guessed it!");if(e.currentRow===R-1)return e.status="lost",o.lose(),t(`The word was ${e.answer}`);e.currentRow++,e.currentCol=0}function t(a){e.message=a,setTimeout(()=>{e.message===a&&(e.message=null)},1600)}function i(a=!0){e.board=Array.from({length:R},()=>({letters:Array.from({length:g},()=>({letter:"",state:"empty"}))})),e.currentRow=0,e.currentCol=0,e.answer=a?A():e.answer,e.keyboard={},e.status="playing",e.message=null}function u(a){if(a.key==="Enter")return r();if(a.key==="Backspace")return s();if(/^[a-zA-Z]$/.test(a.key))return l(a.key)}return z(()=>window.addEventListener("keydown",u)),V(()=>window.removeEventListener("keydown",u)),{state:e,inputLetter:l,backspace:s,submit:r,reset:i}}const ie={class:"flex flex-col items-center px-4 pt-6 safe-bottom"},le={class:"w-full max-w-xl flex items-center justify-between mb-4"},ce={class:"w-full flex flex-col gap-4 items-center"},ue={key:0,class:"fixed top-4 left-1/2 -translate-x-1/2 bg-tile text-white px-4 py-2 rounded shadow"},de=_({__name:"index",setup(o){const{state:e,inputLetter:n,backspace:l,submit:s,reset:r}=ne();function t(i){if(i==="ENTER")return s();if(i==="âŒ«")return l();n(i)}return(i,u)=>(p(),f("div",ie,[c("header",le,[u[3]||(u[3]=c("h1",{class:"text-xl sm:text-2xl font-extrabold tracking-wide"},"Wordle",-1)),c("button",{class:"text-sm bg-absent hover:bg-gray-600 px-3 py-1.5 rounded",onClick:u[0]||(u[0]=a=>m(r)())},"New")]),c("main",ce,[x(D,{board:m(e).board,"current-row":m(e).currentRow},null,8,["board","current-row"]),x(B,{name:"fade"},{default:N(()=>[m(e).message?(p(),f("div",ue,w(m(e).message),1)):S("",!0)]),_:1}),x(te,{show:m(e).status!=="playing",status:m(e).status,answer:m(e).answer,onAgain:u[1]||(u[1]=a=>m(r)()),onClose:u[2]||(u[2]=a=>m(r)(!1))},null,8,["show","status","answer"]),x(Y,{"key-state":m(e).keyboard,onKey:t},null,8,["key-state"])])]))}}),fe=W(de,[["__scopeId","data-v-856fd8e3"]]);export{fe as default};
