import{d as $,x as p,y as d,I as R,J as T,K as A,A as v,z as u,L,B as _,T as N,C as W,M as q,D as O,N as M,_ as E,O as V,o as U,e as K,r as B,P as m}from"#entry";const D={class:"grid grid-rows-5 gap-2 w-full max-w-xs sm:max-w-sm mx-auto"},G=$({__name:"WordleBoard",props:{board:{},currentRow:{}},setup(o){return(t,e)=>(d(),p("div",D,[(d(!0),p(R,null,T(t.board,(c,a)=>(d(),p("div",{key:a,class:"grid grid-cols-5 gap-2"},[(d(!0),p(R,null,T(c.letters,(s,r)=>(d(),p("div",{key:r,class:A(["aspect-square flex items-center justify-center rounded select-none font-bold text-xl sm:text-2xl uppercase transition-colors duration-200 border border-gray-700",{"bg-tile text-white":s.state==="empty"||s.state==="tbd","bg-absent text-white":s.state==="absent","bg-present text-white":s.state==="present","bg-correct text-white":s.state==="correct"}])},v(s.letter),3))),128))]))),128))]))}}),I=Object.assign(G,{__name:"WordleBoard"}),P={class:"w-full max-w-xl mx-auto mt-5 sm:mt-6 select-none"},Y={class:"flex flex-col gap-2"},Z=["onClick"],F=$({__name:"WordleKeyboard",props:{keyState:{}},emits:["key"],setup(o,{emit:t}){const e=o,c=t,a=["QWERTYUIOP".split(""),"ASDFGHJKL".split(""),["ENTER",..."ZXCVBNM".split(""),"⌫"]];function s(r){c("key",r)}return(r,n)=>(d(),p("div",P,[u("div",Y,[(d(),p(R,null,T(a,(l,f)=>u("div",{key:f,class:"flex gap-1.5 sm:gap-1 justify-center"},[(d(!0),p(R,null,T(l,g=>(d(),p("button",{key:g,class:A(["px-3 sm:px-3 py-3.5 sm:py-2.5 rounded-md font-semibold text-base sm:text-sm uppercase flex-1 basis-0 min-h-[48px] sm:min-h-[40px]",[g.length>1?"flex-[1.5]":"",e.keyState[g]?.toString()==="correct"?"bg-correct text-white":e.keyState[g]?.toString()==="present"?"bg-present text-white":e.keyState[g]?.toString()==="absent"?"bg-absent text-white":"bg-tile text-gray-100"]]),onClick:i=>s(g)},v(g),11,Z))),128))])),64))])]))}}),J=Object.assign(F,{__name:"WordleKeyboard"}),H={class:"w-full max-w-sm bg-tile rounded-lg border border-gray-700 shadow-xl p-4 sm:p-6 text-gray-100"},Q={class:"text-center"},X={class:"text-sm text-gray-300 mb-4"},ee={class:"text-sm mb-6"},te={class:"font-extrabold uppercase"},re={class:"flex gap-2 justify-center"},se=$({__name:"ResultModal",props:{show:{type:Boolean},status:{},answer:{}},emits:["close","again"],setup(o,{emit:t}){const e=t;function c(a){a.target===a.currentTarget&&e("close")}return(a,s)=>(d(),L(M,{to:"body"},[_(N,{name:"fade"},{default:W(()=>[a.show?(d(),p("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 px-4",onClick:c},[u("div",H,[u("div",Q,[u("h2",{class:A(["text-2xl font-bold mb-2",a.status==="won"?"text-correct":"text-absent"])},v(a.status==="won"?"You Win!":"Better Luck Next Time"),3),u("p",X,v(a.status==="won"?"Nice job guessing the word.":"No worries, try another round."),1),u("div",ee,[s[2]||(s[2]=O(" The word was ",-1)),u("span",te,v(a.answer),1)]),u("div",re,[u("button",{class:"px-4 py-2 rounded bg-correct text-white font-semibold",onClick:s[0]||(s[0]=r=>a.$emit("again"))},"Play Again"),u("button",{class:"px-4 py-2 rounded bg-absent text-white",onClick:s[1]||(s[1]=r=>a.$emit("close"))},"Close")])])])])):q("",!0)]),_:1})]))}}),ae=Object.assign(E(se,[["__scopeId","data-v-8ac7bc41"]]),{__name:"ResultModal"}),ne=["about","above","abuse","actor","acute","admit","adopt","adult","after","again","agent","agree","ahead","alarm","album","alert","alike","alive","allow","alone","along","aloud","alter","among","angel","anger","angle","angry","apart","apple","apply","arena","argue","arise","armed","array","arrow","aside","asset","audio","audit","avoid","award","aware","badly","baker","bases","basic","basis","beach","beard","beast","began","begin","begun","being","below","bench","billy","birth","black","blame","blind","block","blood","board","boost","booth","bound","brain","brand","bread","break","breed","brief","bring","broad","broke","brown","build","built","buyer","cable","calif","carry","catch","cause","chain","chair","chart","chase","cheap","check","cheek","chest","chief","child","china","chose","civic","civil","claim","class","clean","clear","click","clock","close","coach","coast","could","count","court","cover","craft","crash","cream","crime","cross","crowd","crown","curve","cycle","daily","dance","dated","dealt","death","debut","delay","depth","doing","doubt","dozen","draft","drama","drawn","dream","dress","drill","drink","drive","drove","dying","eager","early","earth","eight","elite","empty","enemy","enjoy","enter","entry","equal","error","event","every","exact","exist","extra","faith","false","fault","favor","fewer","fiber","field","fifth","fifty","fight","final","first","fixed","flash","fleet","floor","fluid","focus","force","forth","forty","forum","found","frame","fraud","fresh","front","fruit","fully","funny","giant","given","glass","globe","going","grace","grade","grand","grant","grass","great","green","gross","group","grown","guard","guess","guest","guide","happy","harry","heart","heavy","hence","henry","horse","hotel","house","human","ideal","image","index","inner","input","issue","japan","jimmy","joint","jones","judge","known","label","large","laser","later","laugh","layer","learn","lease","least","leave","legal","level","lever","light","limit","links","lives","local","logic","loose","lower","lucky","lunch","lying","magic","major","maker","march","maria","match","maybe","mayor","meant","media","metal","might","minor","minus","mixed","model","money","month","moral","motor","mount","mouse","mouth","movie","music","needs","never","newly","night","noise","north","novel","nurse","occur","ocean","offer","often","order","other","ought","paint","panel","paper","party","peace","peter","phase","phone","photo","piece","pilot","pitch","place","plain","plane","plant","plate","point","pound","power","press","price","pride","prime","print","prior","prize","proof","proud","prove","queen","quick","quiet","quite","radio","raise","range","rapid","ratio","reach","react","ready","refer","right","rival","river","roger","roman","rough","round","route","royal","rural","scale","scene","scope","score","sense","serve","seven","shall","shape","share","sharp","sheet","shelf","shell","shift","shirt","shock","shoot","short","shown","sight","since","sixth","sixty","sized","skill","sleep","slide","small","smart","smile","smith","smoke","solid","solve","sorry","sound","south","space","spare","speak","speed","spend","spent","split","spoke","sport","staff","stage","stake","stand","start","state","steam","steel","stick","still","stock","stone","stood","store","storm","story","strip","stuck","study","stuff","style","sugar","suite","super","sweet","table","taken","taste","taxes","teach","teeth","terry","texas","thank","theft","their","theme","there","these","thick","thing","think","third","those","three","threw","throw","tight","times","tired","title","today","topic","total","touch","tough","tower","track","trade","train","treat","trend","trial","tried","tries","truck","truly","trust","truth","twice","under","undue","union","unity","until","upper","upset","urban","usage","usual","valid","value","video","virus","visit","vital","voice","waste","watch","water","wheel","where","which","while","white","whole","whose","woman","women","world","worry","worse","worst","worth","would","wound","write","wrong","wrote","yield","young","youth"];let k=null;function oe(){if(typeof window>"u")return null;if(!k){const o=window.AudioContext||window.webkitAudioContext;if(!o)return null;k=new o}return k.state==="suspended"&&k.resume?.().catch(()=>{}),k}function x(o,t,e="sine",c=.05){const a=oe();if(!a)return;const s=a.createOscillator(),r=a.createGain();s.type=e,s.frequency.value=o,r.gain.value=c,s.connect(r).connect(a.destination);const n=a.currentTime;r.gain.setValueAtTime(0,n),r.gain.linearRampToValueAtTime(c,n+.005),r.gain.exponentialRampToValueAtTime(1e-4,n+t/1e3),s.start(n),s.stop(n+t/1e3+.01)}function ie(){const o=typeof navigator<"u"&&typeof navigator.vibrate=="function",t=n=>{try{o&&navigator.vibrate(n)}catch{}};function e(){x(1400,35,"triangle",.03),t(8)}function c(){x(220,45,"square",.03),t(10)}function a(){x(160,120,"sawtooth",.05),setTimeout(()=>x(120,120,"sawtooth",.05),120),t([20,40,20])}function s(){[523.25,659.25,783.99,1046.5].forEach((l,f)=>setTimeout(()=>x(l,140,"sine",.06),f*120)),t([15,25,15,25,20])}function r(){[440,349.23,261.63].forEach((l,f)=>setTimeout(()=>x(l,180,"triangle",.06),f*170)),t([40,40,40])}return{click:e,backspace:c,error:a,win:s,lose:r}}const j=5,b=5;function S(o){return o.trim().toLowerCase()}function le(o){const t=B([...o]),e=B(new Set(o));function c(r){let n=0;for(const l of r.map(S))l.length!==5||/[^a-z]/.test(l)||e.value.has(l)||(e.value.add(l),t.value.push(l),n++);return n}function a(r){return e.value.has(S(r))}function s(){const r=Math.floor(Math.random()*t.value.length);return t.value[r].toUpperCase()}return{arr:t,set:e,addMany:c,has:a,randomUpper:s}}function ce(o,t){const e=Array(b).fill("absent"),c=t.split(""),a=o.split(""),s={};for(let r=0;r<b;r++)if(a[r]===c[r])e[r]="correct";else{const n=c[r];s[n]=(s[n]||0)+1}for(let r=0;r<b;r++){if(e[r]==="correct")continue;const n=a[r];s[n]>0?(e[r]="present",s[n]--):e[r]="absent"}return e}function ue(o,t){const e={absent:0,present:1,correct:2};return e[t]>e[o]?t:o}function de(){const o=ie(),t=le(ne),e=V({board:Array.from({length:j},()=>({letters:Array.from({length:b},()=>({letter:"",state:"empty"}))})),currentRow:0,currentCol:0,answer:t.randomUpper(),keyboard:{},status:"playing",message:null}),c=i=>i.replace(/[^A-Za-z]/g,"");function a(i){if(e.status!=="playing"||e.currentCol>=b||(i=c(i).toUpperCase(),!i))return;const w=e.board[e.currentRow].letters[e.currentCol];w.letter=i,w.state="tbd",e.currentCol++,o.click()}function s(){if(e.status!=="playing"||e.currentCol===0)return;e.currentCol--;const i=e.board[e.currentRow].letters[e.currentCol];i.letter="",i.state="empty",o.backspace()}function r(){if(e.status!=="playing")return;if(e.currentCol<b)return o.error(),n("Not enough letters");const i=e.board[e.currentRow].letters.map(h=>h.letter).join("");if(!t.has(i))return o.error(),n("Not in word list");const w=ce(i,e.answer);for(let h=0;h<b;h++){e.board[e.currentRow].letters[h].state=w[h];const C=e.board[e.currentRow].letters[h].letter,y=w[h];e.keyboard[C]=e.keyboard[C]?ue(e.keyboard[C],y):y}if(i===e.answer)return e.status="won",o.win(),n("Great! You guessed it!");if(e.currentRow===j-1)return e.status="lost",o.lose(),n(`The word was ${e.answer}`);e.currentRow++,e.currentCol=0}function n(i){e.message=i,setTimeout(()=>{e.message===i&&(e.message=null)},1600)}function l(i=!0){e.board=Array.from({length:j},()=>({letters:Array.from({length:b},()=>({letter:"",state:"empty"}))})),e.currentRow=0,e.currentCol=0,e.answer=i?t.randomUpper():e.answer,e.keyboard={},e.status="playing",e.message=null}function f(i){if(i.key==="Enter")return r();if(i.key==="Backspace")return s();if(/^[a-zA-Z]$/.test(i.key))return a(i.key)}async function g(){try{const i=await fetch("/words5.txt");if(i.ok){const h=(await i.text()).split(/\r?\n/).map(y=>y.trim()).filter(Boolean);t.addMany(h)>0&&e.board.every(y=>y.letters.every(z=>z.state==="empty"))&&(e.answer=t.randomUpper())}}catch{}}return U(()=>{window.addEventListener("keydown",f),g()}),K(()=>window.removeEventListener("keydown",f)),{state:e,inputLetter:a,backspace:s,submit:r,reset:l}}const pe={class:"flex flex-col items-center px-4 pt-6 safe-bottom"},fe={class:"w-full max-w-xl flex items-center justify-between mb-4"},me={class:"w-full flex flex-col gap-4 items-center"},he={key:0,class:"fixed top-4 left-1/2 -translate-x-1/2 bg-tile text-white px-4 py-2 rounded shadow"},ge=$({__name:"index",setup(o){const{state:t,inputLetter:e,backspace:c,submit:a,reset:s}=de();function r(n){if(n==="ENTER")return a();if(n==="⌫")return c();e(n)}return(n,l)=>(d(),p("div",pe,[u("header",fe,[l[3]||(l[3]=u("h1",{class:"text-xl sm:text-2xl font-extrabold tracking-wide"},"Wordle",-1)),u("button",{class:"text-sm bg-absent hover:bg-gray-600 px-3 py-1.5 rounded",onClick:l[0]||(l[0]=f=>m(s)())},"New")]),u("main",me,[_(I,{board:m(t).board,"current-row":m(t).currentRow},null,8,["board","current-row"]),_(N,{name:"fade"},{default:W(()=>[m(t).message?(d(),p("div",he,v(m(t).message),1)):q("",!0)]),_:1}),_(ae,{show:m(t).status!=="playing",status:m(t).status,answer:m(t).answer,onAgain:l[1]||(l[1]=f=>m(s)()),onClose:l[2]||(l[2]=f=>m(s)(!1))},null,8,["show","status","answer"]),_(J,{"key-state":m(t).keyboard,onKey:r},null,8,["key-state"])])]))}}),we=E(ge,[["__scopeId","data-v-856fd8e3"]]);export{we as default};
